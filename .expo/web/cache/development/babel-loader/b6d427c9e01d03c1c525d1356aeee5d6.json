{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport { onAuthStateChanged, signOut, signInWithEmailAndPassword, createUserWithEmailAndPassword, updateProfile } from \"firebase/auth\";\nimport { auth } from \"../config/firebase\";\n\nvar useAuth = function useAuth() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  useEffect(function () {\n    var subscription = onAuthStateChanged(auth, function (user) {\n      if (user) {\n        setUser(user);\n      } else {\n        setUser(null);\n      }\n    });\n    return function () {\n      return subscription();\n    };\n  }, []);\n\n  var login = function login(email, password) {\n    return _regeneratorRuntime.async(function login$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(signInWithEmailAndPassword(auth, email, password));\n\n          case 3:\n            _context.next = 8;\n            break;\n\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n            return _context.abrupt(\"return\", _context.t0);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var logout = function logout() {\n    return _regeneratorRuntime.async(function logout$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            signOut(auth);\n            _context2.next = 7;\n            break;\n\n          case 4:\n            _context2.prev = 4;\n            _context2.t0 = _context2[\"catch\"](0);\n            return _context2.abrupt(\"return\", _context2.t0);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 4]], Promise);\n  };\n\n  var register = function register(name, email, password) {\n    return _regeneratorRuntime.async(function register$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(createUserWithEmailAndPassword(auth, email, password));\n\n          case 3:\n            _context3.next = 5;\n            return _regeneratorRuntime.awrap(updateProfile(auth.currentUser, {\n              displayName: name\n            }));\n\n          case 5:\n            _context3.next = 10;\n            break;\n\n          case 7:\n            _context3.prev = 7;\n            _context3.t0 = _context3[\"catch\"](0);\n            return _context3.abrupt(\"return\", _context3.t0);\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  return {\n    user: user,\n    login: login,\n    logout: logout,\n    register: register\n  };\n};\n\nexport default useAuth;","map":{"version":3,"names":["React","useState","useEffect","onAuthStateChanged","signOut","signInWithEmailAndPassword","createUserWithEmailAndPassword","updateProfile","auth","useAuth","user","setUser","subscription","login","email","password","logout","register","name","currentUser","displayName"],"sources":["C:/Users/Piete/Documents/Hogent/Tweedejaar/Semester2/Mobile/Projecten/RetroWebShop/hooks/useAuth.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  onAuthStateChanged,\r\n  signOut,\r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword,\r\n  updateProfile,\r\n} from \"firebase/auth\";\r\nimport { auth } from \"../config/firebase\";\r\n\r\nconst useAuth = () => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const subscription = onAuthStateChanged(auth, (user) => {\r\n      if (user) {\r\n        setUser(user);\r\n      } else {\r\n        setUser(null);\r\n      }\r\n    });\r\n\r\n    return () => subscription();\r\n  }, []);\r\n\r\n  const login = async (email, password) => {\r\n    try {\r\n      await signInWithEmailAndPassword(auth, email, password);\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    try {\r\n      signOut(auth);\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  };\r\n\r\n  const register = async (name, email, password) => {\r\n    try {\r\n      await createUserWithEmailAndPassword(auth, email, password);\r\n      await updateProfile(auth.currentUser, {\r\n        displayName: name,\r\n      });\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  };\r\n\r\n  return {\r\n    user,\r\n    login,\r\n    logout,\r\n    register,\r\n  };\r\n};\r\n\r\nexport default useAuth;\r\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SACEC,kBADF,EAEEC,OAFF,EAGEC,0BAHF,EAIEC,8BAJF,EAKEC,aALF,QAMO,eANP;AAOA,SAASC,IAAT;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;EACpB,gBAAwBR,QAAQ,CAAC,IAAD,CAAhC;EAAA;EAAA,IAAOS,IAAP;EAAA,IAAaC,OAAb;;EAEAT,SAAS,CAAC,YAAM;IACd,IAAMU,YAAY,GAAGT,kBAAkB,CAACK,IAAD,EAAO,UAACE,IAAD,EAAU;MACtD,IAAIA,IAAJ,EAAU;QACRC,OAAO,CAACD,IAAD,CAAP;MACD,CAFD,MAEO;QACLC,OAAO,CAAC,IAAD,CAAP;MACD;IACF,CANsC,CAAvC;IAQA,OAAO;MAAA,OAAMC,YAAY,EAAlB;IAAA,CAAP;EACD,CAVQ,EAUN,EAVM,CAAT;;EAYA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAOC,KAAP,EAAcC,QAAd;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,iCAEJV,0BAA0B,CAACG,IAAD,EAAOM,KAAP,EAAcC,QAAd,CAFtB;;UAAA;YAAA;YAAA;;UAAA;YAAA;YAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAd;;EAQA,IAAMC,MAAM,GAAG,SAATA,MAAS;IAAA;MAAA;QAAA;UAAA;YAAA;YAEXZ,OAAO,CAACI,IAAD,CAAP;YAFW;YAAA;;UAAA;YAAA;YAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAf;;EAQA,IAAMS,QAAQ,GAAG,SAAXA,QAAW,CAAOC,IAAP,EAAaJ,KAAb,EAAoBC,QAApB;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,iCAEPT,8BAA8B,CAACE,IAAD,EAAOM,KAAP,EAAcC,QAAd,CAFvB;;UAAA;YAAA;YAAA,iCAGPR,aAAa,CAACC,IAAI,CAACW,WAAN,EAAmB;cACpCC,WAAW,EAAEF;YADuB,CAAnB,CAHN;;UAAA;YAAA;YAAA;;UAAA;YAAA;YAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAjB;;EAWA,OAAO;IACLR,IAAI,EAAJA,IADK;IAELG,KAAK,EAALA,KAFK;IAGLG,MAAM,EAANA,MAHK;IAILC,QAAQ,EAARA;EAJK,CAAP;AAMD,CAhDD;;AAkDA,eAAeR,OAAf"},"metadata":{},"sourceType":"module"}